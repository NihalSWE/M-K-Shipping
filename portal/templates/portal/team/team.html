{% extends "portal/base.html" %}
{% load static %}

{% block custom_css %}
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Manrope:wght@300;400;600&display=swap" rel="stylesheet">

<style>
    /* --- Executive Theme Variables --- */
    :root {
        --exec-dark: #111827;       /* Very dark charcoal, almost black */
        --exec-gray: #4B5563;       /* Sophisticated grey */
        --exec-light-gray: #9CA3AF; /* Muted grey for borders */
        --exec-accent: #C5A47E;     /* subtle Gold/Bronze accent (Classic corporate luxury) */
    }

    /* --- Typography Overrides --- */
    .rts-team-area {
        font-family: 'Manrope', sans-serif; /* Clean, modern sans-serif */
    }

    /* 1. The Name: Large, authoritative, perhaps Serif */
    .team-name {
        font-family: 'Playfair Display', serif; /* or your site's heading font */
        font-size: 3.5rem;
        font-weight: 700;
        color: var(--exec-dark);
        line-height: 1.1;
        margin-bottom: 0.5rem;
    }

    /* 2. The Designation: Clean, Uppercase, Spaced out */
    .team-designation {
        display: block;
        font-family: 'Manrope', sans-serif;
        font-size: 0.9rem;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 3px; /* WIDE spacing looks expensive */
        color: var(--exec-gray);
        margin-bottom: 1.5rem;
    }

    /* 3. The Separator Line */
    .team-divider {
        width: 60px;
        height: 3px;
        background-color: var(--exec-accent); /* Gold/Bronze accent */
        margin-bottom: 2rem;
        display: inline-block;
    }

    /* 4. The Bio: The Fix for "Bold" Text */
    .team-bio-text {
        font-size: 1.15rem;
        line-height: 1.9;
        color: var(--exec-gray);
        /* FORCE LIGHTER WEIGHT */
        font-weight: 300 !important; 
        text-align: left;
    }

    /* Target paragraphs explicitly to strip default bolding */
    .team-bio-text p {
        font-weight: 300 !important;
        margin-bottom: 1.5rem;
        color: var(--exec-gray);
    }

    /* Only Bold what is explicitly bolded in the editor */
    .team-bio-text strong, 
    .team-bio-text b {
        font-weight: 700 !important;
        color: var(--exec-dark);
    }

    /* --- Image Styling --- */
    .team-image-wrapper {
        position: relative;
        overflow: hidden;
        /* Sharp corners or slightly rounded look more professional than full rounded */
        border-radius: 4px; 
        box-shadow: 0 15px 40px rgba(0,0,0,0.08);
        background: #f0f0f0;
    }

    .team-img-refined {
        width: 100%;
        height: 600px; /* Tall, portrait style */
        object-fit: cover;
        object-position: top center; /* Focus on face */
        filter: grayscale(10%); /* Subtle desaturation for classy look */
        transition: all 0.5s ease;
    }
    
    .team-image-wrapper:hover .team-img-refined {
        filter: grayscale(0%);
        transform: scale(1.02);
    }

    /* --- Layout Spacing --- */
    .team-member-row {
        margin-bottom: 120px; /* Massive spacing between profiles */
        padding-bottom: 80px;
        border-bottom: 1px solid #eee; /* Very subtle separator between leaders */
    }
    
    .team-member-row:last-child {
        border-bottom: none;
        margin-bottom: 0;
    }

    /* Padding Logic */
    @media (min-width: 992px) {
        .content-padding-left { padding-left: 6rem; }
        .content-padding-right { padding-right: 6rem; }
    }

    @media (max-width: 991px) {
        .team-name { font-size: 2.5rem; }
        .team-img-refined { height: 450px; }
        .content-padding-left, .content-padding-right { padding: 30px 0 0 0; }
        .team-member-row { margin-bottom: 60px; padding-bottom: 60px;}
    }
</style>
{% endblock custom_css %}

{% block content %}
    <div class="rts-breadcrumb-area one" data-bg-src="{% static 'portal/assets/images/breadcrumb/07.webp'%}">
        <div class="container h-100">
            <div class="breadcrumb-area-wrapper">
                <div class="nav-bread-crumb">
                    <a href="{% url 'home' %}">Home</a>
                    <span><i class="fa-regular fa-chevron-right"></i></span>
                    <a href="#" class="current">Leadership</a>
                </div>
                <h1 class="title">Executive Leadership</h1>
            </div>
        </div>
    </div>

    <section class="rts-team-area rts-section-gap">
        <div class="container">
            <div class="section-inner mt--60">
                
                {% for member in team_members %}
                
                {% if forloop.counter0|divisibleby:2 %}
                    <div class="team-member-row">
                        <div class="row align-items-center">
                            <div class="col-lg-5 col-md-12"> <div class="team-image-wrapper">
                                    {% if member.image %}
                                        <img src="{{ member.image.url }}" alt="{{ member.name }}" class="team-img-refined">
                                    {% else %}
                                        <img src="{% static 'portal/assets/images/team/05.webp' %}" alt="Default" class="team-img-refined">
                                    {% endif %}
                                </div>
                            </div>
                            <div class="col-lg-7 col-md-12"> <div class="team-content-box content-padding-left">
                                    <h2 class="team-name">{{ member.name }}</h2>
                                    
                                    <span class="team-designation">{{ member.designation }}</span>
                                    
                                    <div class="team-divider"></div>

                                    {% if member.description %}
                                        <div class="team-bio-text">{{ member.description|safe }}</div>
                                    {% endif %}
                                </div>
                            </div>
                        </div>
                    </div>

                {% else %}
                    <div class="team-member-row">
                        <div class="row align-items-center flex-row-reverse">
                            <div class="col-lg-5 col-md-12">
                                <div class="team-image-wrapper">
                                    {% if member.image %}
                                        <img src="{{ member.image.url }}" alt="{{ member.name }}" class="team-img-refined">
                                    {% else %}
                                        <img src="{% static 'portal/assets/images/team/05.webp' %}" alt="Default" class="team-img-refined">
                                    {% endif %}
                                </div>
                            </div>
                            <div class="col-lg-7 col-md-12">
                                <div class="team-content-box content-padding-right">
                                    <h2 class="team-name">{{ member.name }}</h2>
                                    <span class="team-designation">{{ member.designation }}</span>
                                    <div class="team-divider"></div>

                                    {% if member.description %}
                                        <div class="team-bio-text">{{ member.description|safe }}</div>
                                    {% endif %}
                                </div>
                            </div>
                        </div>
                    </div>
                {% endif %}

                {% empty %}
                <div class="text-center py-5">
                    <h3 class="text-muted" style="font-weight: 300;">No executive profiles found.</h3>
                </div>
                {% endfor %}

            </div>
        </div>
    </section>

{% endblock content %}

{% block custom_js %}
<script>
    document.addEventListener("DOMContentLoaded", function() {
        // Scroll Reveal Animation
        const observerOptions = { root: null, rootMargin: '0px', threshold: 0.1 };
        const observer = new IntersectionObserver((entries, observer) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = "1";
                    entry.target.style.transform = "translateY(0)";
                    observer.unobserve(entry.target);
                }
            });
        }, observerOptions);

        const rows = document.querySelectorAll('.team-member-row');
        rows.forEach(row => {
            row.style.opacity = "0";
            row.style.transform = "translateY(40px)";
            row.style.transition = "all 1s cubic-bezier(0.165, 0.84, 0.44, 1)"; // Very smooth 'luxury' ease
            observer.observe(row);
        });
    });
</script>
{% endblock custom_js %}